<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) -->
<title>BlockAllocatorImpl (AWS Athena Query Federation 2022.47.1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: com.amazonaws.athena.connector.lambda.data, class: BlockAllocatorImpl">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/BlockAllocatorImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.amazonaws.athena.connector.lambda.data</a></div>
<h1 title="Class BlockAllocatorImpl" class="title">Class BlockAllocatorImpl</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.amazonaws.athena.connector.lambda.data.BlockAllocatorImpl</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">BlockAllocatorImpl</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a></span></div>
<div class="block">Basic BlockAllocator which uses reference counting to perform garbage collection of Apache Arrow resources.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data"><code>BlockAllocator</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-com.amazonaws.athena.connector.lambda.data.BlockAllocator">Nested classes/interfaces inherited from interface&nbsp;com.amazonaws.athena.connector.lambda.data.<a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a></h2>
<code><a href="BlockAllocator.BatchGenerator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator.BatchGenerator</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">BlockAllocatorImpl</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Default constructor.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.lang.String)" class="member-name-link">BlockAllocatorImpl</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructs a BlockAllocatorImpl with the given id.</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.lang.String,long)" class="member-name-link">BlockAllocatorImpl</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 long&nbsp;memoryLimit)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a BlockAllocatorImpl with the given id and memory byte limit.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.lang.String,org.apache.arrow.memory.RootAllocator)" class="member-name-link">BlockAllocatorImpl</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 org.apache.arrow.memory.RootAllocator&nbsp;rootAllocator)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructs a BlockAllocatorImpl with the given id and a shared RootAllocator</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.arrow.memory.RootAllocator)" class="member-name-link">BlockAllocatorImpl</a><wbr>(org.apache.arrow.memory.RootAllocator&nbsp;rootAllocator)</code></div>
<div class="col-last even-row-color">
<div class="block">Default constructor that takes in a shared RootAllocator</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Closes all Apache Arrow Resources allocated via this BlockAllocator and then attempts to
 close the underlying Apache Arrow Allocator which would actually free memory.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#closeBatches()" class="member-name-link">closeBatches</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to close all batches allocated by this BlockAllocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#closeBlocks()" class="member-name-link">closeBlocks</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to close all Blocks allocated by this BlockAllocator.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#closeBuffers()" class="member-name-link">closeBuffers</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to close all buffers allocated by this BlockAllocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Block.html" title="class in com.amazonaws.athena.connector.lambda.data">Block</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createBlock(org.apache.arrow.vector.types.pojo.Schema)" class="member-name-link">createBlock</a><wbr>(org.apache.arrow.vector.types.pojo.Schema&nbsp;schema)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a block and registers it for later clean up if the block isn't explicitly closed by the caller.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.apache.arrow.memory.ArrowBuf</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createBuffer(int)" class="member-name-link">createBuffer</a><wbr>(int&nbsp;size)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates an ArrowBuf and registers it for later clean up if the ArrowBuff isn't explicitly closed by the caller.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.apache.arrow.memory.BufferAllocator</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRawAllocator()" class="member-name-link">getRawAllocator</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Provides access to the underlying Apache Arrow Allocator.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUsage()" class="member-name-link">getUsage</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns number of bytes in the Apache Arrow Pool that are used.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isClosed()" class="member-name-link">isClosed</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Indicates if this BlockAllocator has been closed.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.apache.arrow.vector.ipc.message.ArrowRecordBatch</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerBatch(com.amazonaws.athena.connector.lambda.data.BlockAllocator.BatchGenerator)" class="member-name-link">registerBatch</a><wbr>(<a href="BlockAllocator.BatchGenerator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator.BatchGenerator</a>&nbsp;generator)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates an ArrowRecordBatch and registers it for later clean up if the ArrowRecordBatch isn't explicitly closed
 by the caller.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>BlockAllocatorImpl</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BlockAllocatorImpl</span>()</div>
<div class="block">Default constructor.</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.apache.arrow.memory.RootAllocator)">
<h3>BlockAllocatorImpl</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BlockAllocatorImpl</span><wbr><span class="parameters">(org.apache.arrow.memory.RootAllocator&nbsp;rootAllocator)</span></div>
<div class="block">Default constructor that takes in a shared RootAllocator</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String)">
<h3>BlockAllocatorImpl</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BlockAllocatorImpl</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">Constructs a BlockAllocatorImpl with the given id.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The id used to identify this BlockAllocatorImpl</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String,org.apache.arrow.memory.RootAllocator)">
<h3>BlockAllocatorImpl</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BlockAllocatorImpl</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 org.apache.arrow.memory.RootAllocator&nbsp;rootAllocator)</span></div>
<div class="block">Constructs a BlockAllocatorImpl with the given id and a shared RootAllocator</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The id used to identify this BlockAllocatorImpl</dd>
<dd><code>rootAllocator</code> - the shared RootAllocator</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String,long)">
<h3>BlockAllocatorImpl</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BlockAllocatorImpl</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 long&nbsp;memoryLimit)</span></div>
<div class="block">Constructs a BlockAllocatorImpl with the given id and memory byte limit.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The id used to identify this BlockAllocatorImpl</dd>
<dd><code>memoryLimit</code> - The max memory, in bytes, that this BlockAllocator is allows to use.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="createBlock(org.apache.arrow.vector.types.pojo.Schema)">
<h3>createBlock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Block.html" title="class in com.amazonaws.athena.connector.lambda.data">Block</a></span>&nbsp;<span class="element-name">createBlock</span><wbr><span class="parameters">(org.apache.arrow.vector.types.pojo.Schema&nbsp;schema)</span></div>
<div class="block">Creates a block and registers it for later clean up if the block isn't explicitly closed by the caller.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BlockAllocator.html#createBlock(org.apache.arrow.vector.types.pojo.Schema)">createBlock</a></code>&nbsp;in interface&nbsp;<code><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a></code></dd>
<dt>Parameters:</dt>
<dd><code>schema</code> - The schema of the Apache Arrow Block.</dd>
<dt>Returns:</dt>
<dd>THe resulting Block.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data"><code>BlockAllocator</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createBuffer(int)">
<h3>createBuffer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.apache.arrow.memory.ArrowBuf</span>&nbsp;<span class="element-name">createBuffer</span><wbr><span class="parameters">(int&nbsp;size)</span></div>
<div class="block">Creates an ArrowBuf and registers it for later clean up if the ArrowBuff isn't explicitly closed by the caller.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BlockAllocator.html#createBuffer(int)">createBuffer</a></code>&nbsp;in interface&nbsp;<code><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a></code></dd>
<dt>Parameters:</dt>
<dd><code>size</code> - The number of bytes to reserve for the requested buffer.</dd>
<dt>Returns:</dt>
<dd>THe resulting Apache Arrow Buffer..</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data"><code>BlockAllocator</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerBatch(com.amazonaws.athena.connector.lambda.data.BlockAllocator.BatchGenerator)">
<h3>registerBatch</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.apache.arrow.vector.ipc.message.ArrowRecordBatch</span>&nbsp;<span class="element-name">registerBatch</span><wbr><span class="parameters">(<a href="BlockAllocator.BatchGenerator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator.BatchGenerator</a>&nbsp;generator)</span></div>
<div class="block">Creates an ArrowRecordBatch and registers it for later clean up if the ArrowRecordBatch isn't explicitly closed
 by the caller.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BlockAllocator.html#registerBatch(com.amazonaws.athena.connector.lambda.data.BlockAllocator.BatchGenerator)">registerBatch</a></code>&nbsp;in interface&nbsp;<code><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a></code></dd>
<dt>Parameters:</dt>
<dd><code>generator</code> - The generator which is expected to create an ArrowRecordBatch.</dd>
<dt>Returns:</dt>
<dd>THe resulting Apache Arrow Batch..</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data"><code>BlockAllocator</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRawAllocator()">
<h3>getRawAllocator</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.apache.arrow.memory.BufferAllocator</span>&nbsp;<span class="element-name">getRawAllocator</span>()</div>
<div class="block">Provides access to the underlying Apache Arrow Allocator.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data"><code>BlockAllocator</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="closeBlocks()">
<h3>closeBlocks</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">closeBlocks</span>()</div>
<div class="block">Attempts to close all Blocks allocated by this BlockAllocator.</div>
</section>
</li>
<li>
<section class="detail" id="closeBuffers()">
<h3>closeBuffers</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">closeBuffers</span>()</div>
<div class="block">Attempts to close all buffers allocated by this BlockAllocator.</div>
</section>
</li>
<li>
<section class="detail" id="closeBatches()">
<h3>closeBatches</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">closeBatches</span>()</div>
<div class="block">Attempts to close all batches allocated by this BlockAllocator.</div>
</section>
</li>
<li>
<section class="detail" id="getUsage()">
<h3>getUsage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getUsage</span>()</div>
<div class="block">Returns number of bytes in the Apache Arrow Pool that are used. This is not the same as the actual
 reserved memory usage you may be familiar with from your operating system.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BlockAllocator.html#getUsage()">getUsage</a></code>&nbsp;in interface&nbsp;<code><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a></code></dd>
<dt>Returns:</dt>
<dd>The number of bytes that have been used (e.g. assigned to an Apache Arrow Resource like a block, batch, or buffer).</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data"><code>BlockAllocator</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">Closes all Apache Arrow Resources allocated via this BlockAllocator and then attempts to
 close the underlying Apache Arrow Allocator which would actually free memory. This operation may
 fail if the underlying Apache Arrow Allocator was used to allocate resources without registering
 them to this BlockAllocator and those resources were not freed prior to calling close.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html#close()" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="BlockAllocator.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data"><code>BlockAllocator</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isClosed()">
<h3>isClosed</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isClosed</span>()</div>
<div class="block">Indicates if this BlockAllocator has been closed.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BlockAllocator.html#isClosed()">isClosed</a></code>&nbsp;in interface&nbsp;<code><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a></code></dd>
<dt>Returns:</dt>
<dd>True if close has been called, False otherwise.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data"><code>BlockAllocator</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2019&#x2013;2025 <a href="https://https://aws.amazon.com//">Amazon Web Services</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
