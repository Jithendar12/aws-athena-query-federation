<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) -->
<title>GlueMetadataHandler (AWS Athena Query Federation 2022.47.1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: com.amazonaws.athena.connector.lambda.handlers, class: GlueMetadataHandler">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/GlueMetadataHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.amazonaws.athena.connector.lambda.handlers</a></div>
<h1 title="Class GlueMetadataHandler" class="title">Class GlueMetadataHandler</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">com.amazonaws.athena.connector.lambda.handlers.MetadataHandler</a>
<div class="inheritance">com.amazonaws.athena.connector.lambda.handlers.GlueMetadataHandler</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="FederationRequestHandler.html" title="interface in com.amazonaws.athena.connector.lambda.handlers">FederationRequestHandler</a></code>, <code>com.amazonaws.services.lambda.runtime.RequestStreamHandler</code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="../../../connectors/docdb/DocDBMetadataHandler.html" title="class in com.amazonaws.athena.connectors.docdb">DocDBMetadataHandler</a></code>, <code><a href="../../../connectors/dynamodb/DynamoDBMetadataHandler.html" title="class in com.amazonaws.athena.connectors.dynamodb">DynamoDBMetadataHandler</a></code>, <code><a href="../../../connectors/elasticsearch/ElasticsearchMetadataHandler.html" title="class in com.amazonaws.athena.connectors.elasticsearch">ElasticsearchMetadataHandler</a></code>, <code><a href="../../../connectors/gcs/GcsMetadataHandler.html" title="class in com.amazonaws.athena.connectors.gcs">GcsMetadataHandler</a></code>, <code><a href="../../../connectors/hbase/HbaseMetadataHandler.html" title="class in com.amazonaws.athena.connectors.hbase">HbaseMetadataHandler</a></code>, <code><a href="../../../connectors/neptune/NeptuneMetadataHandler.html" title="class in com.amazonaws.athena.connectors.neptune">NeptuneMetadataHandler</a></code>, <code><a href="../../../connectors/redis/RedisMetadataHandler.html" title="class in com.amazonaws.athena.connectors.redis">RedisMetadataHandler</a></code>, <code><a href="../../../connectors/timestream/TimestreamMetadataHandler.html" title="class in com.amazonaws.athena.connectors.timestream">TimestreamMetadataHandler</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">GlueMetadataHandler</span>
<span class="extends-implements">extends <a href="MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></span></div>
<div class="block">This class allows you to leverage AWS Glue's DataCatalog to satisfy portions of the functionality required in a
 MetadataHandler. More precisely, this implementation uses AWS Glue's DataCatalog to implement:
 <p><ul>
 <li>doListSchemas(...)
 <li>doListTables(...)
 <li>doGetTable(...)
 </ul><p>
 When you extend this class you can optionally provide a DatabaseFilter and/or TableFilter to decide which Databases
 (aka schemas) and Tables are eligible for use with your connector. You can find examples of this in the
 athena-hbase and athena-docdb connector modules. A common reason for this is when you happen to have databases/tables
 in Glue which match the names of databases and tables in your source but that aren't actually relevant. In such cases
 you may choose to ignore those Glue tables.
 <p>
 At present this class does not retrieve partition information from AWS Glue's DataCatalog. There is an open task
 for how best to handle partitioning information in this class: https://github.com/awslabs/aws-athena-query-federation/issues/5
 It is unclear at this time how many sources will have meaningful partition info in Glue but many sources (DocDB, Hbase, Redis)
 benefited from having basic schema information in Glue. As a result we punted support for partition information to
 a later time.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers"><code>MetadataHandler</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="GlueMetadataHandler.DatabaseFilter.html" class="type-name-link" title="interface in com.amazonaws.athena.connector.lambda.handlers">GlueMetadataHandler.DatabaseFilter</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="GlueMetadataHandler.TableFilter.html" class="type-name-link" title="interface in com.amazonaws.athena.connector.lambda.handlers">GlueMetadataHandler.TableFilter</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#COLUMN_NAME_MAPPING_PROPERTY" class="member-name-link">COLUMN_NAME_MAPPING_PROPERTY</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#DATETIME_FORMAT_MAPPING_PROPERTY" class="member-name-link">DATETIME_FORMAT_MAPPING_PROPERTY</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#DATETIME_FORMAT_MAPPING_PROPERTY_NORMALIZED" class="member-name-link">DATETIME_FORMAT_MAPPING_PROPERTY_NORMALIZED</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#GET_TABLES_REQUEST_MAX_RESULTS" class="member-name-link">GET_TABLES_REQUEST_MAX_RESULTS</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The maximum number of tables returned in a single response (as defined in the Glue API docs).</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#GLUE_TABLE_CONTAINS_PREVIOUSLY_UNSUPPORTED_TYPE" class="member-name-link">GLUE_TABLE_CONTAINS_PREVIOUSLY_UNSUPPORTED_TYPE</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#SOURCE_TABLE_PROPERTY" class="member-name-link">SOURCE_TABLE_PROPERTY</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#VIEW_METADATA_FIELD" class="member-name-link">VIEW_METADATA_FIELD</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-com.amazonaws.athena.connector.lambda.handlers.MetadataHandler">Fields inherited from class&nbsp;com.amazonaws.athena.connector.lambda.handlers.<a href="MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></h3>
<code><a href="MetadataHandler.html#configOptions">configOptions</a>, <a href="MetadataHandler.html#DISABLE_SPILL_ENCRYPTION">DISABLE_SPILL_ENCRYPTION</a>, <a href="MetadataHandler.html#KMS_KEY_ID_ENV">KMS_KEY_ID_ENV</a>, <a href="MetadataHandler.html#SPILL_BUCKET_ENV">SPILL_BUCKET_ENV</a>, <a href="MetadataHandler.html#SPILL_PREFIX_ENV">SPILL_PREFIX_ENV</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>&nbsp;</code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.lang.String,java.util.Map)" class="member-name-link">GlueMetadataHandler</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sourceType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;configOptions)</code></div>
<div class="col-last even-row-color">
<div class="block">Basic constructor which is recommended when extending this class.</div>
</div>
<div class="col-first odd-row-color"><code>protected </code></div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(software.amazon.awssdk.services.glue.GlueClient,com.amazonaws.athena.connector.lambda.security.EncryptionKeyFactory,software.amazon.awssdk.services.secretsmanager.SecretsManagerClient,software.amazon.awssdk.services.athena.AthenaClient,java.lang.String,java.lang.String,java.lang.String,java.util.Map)" class="member-name-link">GlueMetadataHandler</a><wbr>(software.amazon.awssdk.services.glue.GlueClient&nbsp;awsGlue,
 <a href="../security/EncryptionKeyFactory.html" title="interface in com.amazonaws.athena.connector.lambda.security">EncryptionKeyFactory</a>&nbsp;encryptionKeyFactory,
 software.amazon.awssdk.services.secretsmanager.SecretsManagerClient&nbsp;secretsManager,
 software.amazon.awssdk.services.athena.AthenaClient&nbsp;athena,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sourceType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;spillBucket,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;spillPrefix,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;configOptions)</code></div>
<div class="col-last odd-row-color">
<div class="block">Full DI constructor used mostly for testing</div>
</div>
<div class="col-first even-row-color"><code>&nbsp;</code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(software.amazon.awssdk.services.glue.GlueClient,java.lang.String,java.util.Map)" class="member-name-link">GlueMetadataHandler</a><wbr>(software.amazon.awssdk.services.glue.GlueClient&nbsp;awsGlue,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sourceType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;configOptions)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor that allows injection of a customized Glue client.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.apache.arrow.vector.types.pojo.Field</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#convertField(java.lang.String,java.lang.String)" class="member-name-link">convertField</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;glueType)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Maps a Glue field to an Apache Arrow Field.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../metadata/GetTableResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableResponse</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doGetTable(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.GetTableRequest)" class="member-name-link">doGetTable</a><wbr>(<a href="../data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;blockAllocator,
 <a href="../metadata/GetTableRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableRequest</a>&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to retrieve a Table (columns and properties) from AWS Glue for the request schema (aka database) and table
 name with no fitlering.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="../metadata/GetTableResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableResponse</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doGetTable(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.GetTableRequest,com.amazonaws.athena.connector.lambda.handlers.GlueMetadataHandler.TableFilter)" class="member-name-link">doGetTable</a><wbr>(<a href="../data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;blockAllocator,
 <a href="../metadata/GetTableRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableRequest</a>&nbsp;request,
 <a href="GlueMetadataHandler.TableFilter.html" title="interface in com.amazonaws.athena.connector.lambda.handlers">GlueMetadataHandler.TableFilter</a>&nbsp;filter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to retrieve a Table (columns and properties) from AWS Glue for the request schema (aka database) and table
 name with no filtering.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../metadata/ListSchemasResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListSchemasResponse</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doListSchemaNames(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.ListSchemasRequest)" class="member-name-link">doListSchemaNames</a><wbr>(<a href="../data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;blockAllocator,
 <a href="../metadata/ListSchemasRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListSchemasRequest</a>&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an unfiltered list of schemas (aka databases) from AWS Glue DataCatalog.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="../metadata/ListSchemasResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListSchemasResponse</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doListSchemaNames(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.ListSchemasRequest,com.amazonaws.athena.connector.lambda.handlers.GlueMetadataHandler.DatabaseFilter)" class="member-name-link">doListSchemaNames</a><wbr>(<a href="../data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;blockAllocator,
 <a href="../metadata/ListSchemasRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListSchemasRequest</a>&nbsp;request,
 <a href="GlueMetadataHandler.DatabaseFilter.html" title="interface in com.amazonaws.athena.connector.lambda.handlers">GlueMetadataHandler.DatabaseFilter</a>&nbsp;filter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a list of schemas (aka databases) from AWS Glue DataCatalog with optional filtering.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../metadata/ListTablesResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListTablesResponse</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doListTables(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.ListTablesRequest)" class="member-name-link">doListTables</a><wbr>(<a href="../data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;blockAllocator,
 <a href="../metadata/ListTablesRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListTablesRequest</a>&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an unfiltered list of tables from AWS Glue DataCatalog for the requested schema (aka database)</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="../metadata/ListTablesResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListTablesResponse</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doListTables(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.ListTablesRequest,com.amazonaws.athena.connector.lambda.handlers.GlueMetadataHandler.TableFilter)" class="member-name-link">doListTables</a><wbr>(<a href="../data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;blockAllocator,
 <a href="../metadata/ListTablesRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListTablesRequest</a>&nbsp;request,
 <a href="GlueMetadataHandler.TableFilter.html" title="interface in com.amazonaws.athena.connector.lambda.handlers">GlueMetadataHandler.TableFilter</a>&nbsp;filter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a paginated list of tables from AWS Glue DataCatalog with optional filtering for the requested schema
 (aka database).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected software.amazon.awssdk.services.glue.GlueClient</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAwsGlue()" class="member-name-link">getAwsGlue</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Provides access to the Glue client if the extender should need it.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCatalog(com.amazonaws.athena.connector.lambda.metadata.MetadataRequest)" class="member-name-link">getCatalog</a><wbr>(<a href="../metadata/MetadataRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">MetadataRequest</a>&nbsp;request)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Provides access to the current AWS Glue DataCatalog being used by this class.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getColumnNameMapping(software.amazon.awssdk.services.glue.model.Table)" class="member-name-link">getColumnNameMapping</a><wbr>(software.amazon.awssdk.services.glue.model.Table&nbsp;table)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">If available, will parse and return a column name mapping for cases when a data source's columns
 cannot be represented by Glue's quite restrictive naming rules.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getSourceTableName(org.apache.arrow.vector.types.pojo.Schema)" class="member-name-link">getSourceTableName</a><wbr>(org.apache.arrow.vector.types.pojo.Schema&nbsp;schema)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Will return the source table name stored by <a href="#populateSourceTableNameIfAvailable(software.amazon.awssdk.services.glue.model.Table,com.amazonaws.athena.connector.lambda.data.SchemaBuilder)"><code>populateSourceTableNameIfAvailable(software.amazon.awssdk.services.glue.model.Table, com.amazonaws.athena.connector.lambda.data.SchemaBuilder)</code></a></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#populateSourceTableNameIfAvailable(software.amazon.awssdk.services.glue.model.Table,com.amazonaws.athena.connector.lambda.data.SchemaBuilder)" class="member-name-link">populateSourceTableNameIfAvailable</a><wbr>(software.amazon.awssdk.services.glue.model.Table&nbsp;table,
 <a href="../data/SchemaBuilder.html" title="class in com.amazonaws.athena.connector.lambda.data">SchemaBuilder</a>&nbsp;schemaBuilder)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Glue has strict table naming rules and may not be able to match the exact table name from the source.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.amazonaws.athena.connector.lambda.handlers.MetadataHandler">Methods inherited from class&nbsp;com.amazonaws.athena.connector.lambda.handlers.<a href="MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></h3>
<code><a href="MetadataHandler.html#doGetDataSourceCapabilities(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.GetDataSourceCapabilitiesRequest)">doGetDataSourceCapabilities</a>, <a href="MetadataHandler.html#doGetQueryPassthroughSchema(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.GetTableRequest)">doGetQueryPassthroughSchema</a>, <a href="MetadataHandler.html#doGetSplits(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.GetSplitsRequest)">doGetSplits</a>, <a href="MetadataHandler.html#doGetTableLayout(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.GetTableLayoutRequest)">doGetTableLayout</a>, <a href="MetadataHandler.html#doHandleRequest(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.fasterxml.jackson.databind.ObjectMapper,com.amazonaws.athena.connector.lambda.metadata.MetadataRequest,java.io.OutputStream)">doHandleRequest</a>, <a href="MetadataHandler.html#doPing(com.amazonaws.athena.connector.lambda.request.PingRequest)">doPing</a>, <a href="MetadataHandler.html#enhancePartitionSchema(com.amazonaws.athena.connector.lambda.data.SchemaBuilder,com.amazonaws.athena.connector.lambda.metadata.GetTableLayoutRequest)">enhancePartitionSchema</a>, <a href="MetadataHandler.html#getPartitions(com.amazonaws.athena.connector.lambda.data.BlockWriter,com.amazonaws.athena.connector.lambda.metadata.GetTableLayoutRequest,com.amazonaws.athena.connector.lambda.QueryStatusChecker)">getPartitions</a>, <a href="MetadataHandler.html#getRequestOverrideConfig(java.util.Map)">getRequestOverrideConfig</a>, <a href="MetadataHandler.html#getSecret(java.lang.String)">getSecret</a>, <a href="MetadataHandler.html#handleRequest(java.io.InputStream,java.io.OutputStream,com.amazonaws.services.lambda.runtime.Context)">handleRequest</a>, <a href="MetadataHandler.html#makeEncryptionKey()">makeEncryptionKey</a>, <a href="MetadataHandler.html#makeSpillLocation(com.amazonaws.athena.connector.lambda.metadata.MetadataRequest)">makeSpillLocation</a>, <a href="MetadataHandler.html#onPing(com.amazonaws.athena.connector.lambda.request.PingRequest)">onPing</a>, <a href="MetadataHandler.html#resolveSecrets(java.lang.String)">resolveSecrets</a>, <a href="MetadataHandler.html#resolveWithDefaultCredentials(java.lang.String)">resolveWithDefaultCredentials</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.amazonaws.athena.connector.lambda.handlers.FederationRequestHandler">Methods inherited from interface&nbsp;com.amazonaws.athena.connector.lambda.handlers.<a href="FederationRequestHandler.html" title="interface in com.amazonaws.athena.connector.lambda.handlers">FederationRequestHandler</a></h3>
<code><a href="FederationRequestHandler.html#getAthenaClient(software.amazon.awssdk.awscore.AwsRequestOverrideConfiguration,software.amazon.awssdk.services.athena.AthenaClient)">getAthenaClient</a>, <a href="FederationRequestHandler.html#getRequestOverrideConfig(java.util.Map,com.amazonaws.athena.connector.lambda.security.KmsEncryptionProvider)">getRequestOverrideConfig</a>, <a href="FederationRequestHandler.html#getS3Client(software.amazon.awssdk.awscore.AwsRequestOverrideConfiguration,software.amazon.awssdk.services.s3.S3Client)">getS3Client</a>, <a href="FederationRequestHandler.html#getSessionCredentials(java.lang.String,java.lang.String,com.amazonaws.athena.connector.lambda.security.KmsEncryptionProvider)">getSessionCredentials</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="GET_TABLES_REQUEST_MAX_RESULTS">
<h3>GET_TABLES_REQUEST_MAX_RESULTS</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">GET_TABLES_REQUEST_MAX_RESULTS</span></div>
<div class="block">The maximum number of tables returned in a single response (as defined in the Glue API docs).</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#com.amazonaws.athena.connector.lambda.handlers.GlueMetadataHandler.GET_TABLES_REQUEST_MAX_RESULTS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="SOURCE_TABLE_PROPERTY">
<h3>SOURCE_TABLE_PROPERTY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">SOURCE_TABLE_PROPERTY</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#com.amazonaws.athena.connector.lambda.handlers.GlueMetadataHandler.SOURCE_TABLE_PROPERTY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="COLUMN_NAME_MAPPING_PROPERTY">
<h3>COLUMN_NAME_MAPPING_PROPERTY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">COLUMN_NAME_MAPPING_PROPERTY</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#com.amazonaws.athena.connector.lambda.handlers.GlueMetadataHandler.COLUMN_NAME_MAPPING_PROPERTY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DATETIME_FORMAT_MAPPING_PROPERTY">
<h3>DATETIME_FORMAT_MAPPING_PROPERTY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">DATETIME_FORMAT_MAPPING_PROPERTY</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#com.amazonaws.athena.connector.lambda.handlers.GlueMetadataHandler.DATETIME_FORMAT_MAPPING_PROPERTY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DATETIME_FORMAT_MAPPING_PROPERTY_NORMALIZED">
<h3>DATETIME_FORMAT_MAPPING_PROPERTY_NORMALIZED</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">DATETIME_FORMAT_MAPPING_PROPERTY_NORMALIZED</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#com.amazonaws.athena.connector.lambda.handlers.GlueMetadataHandler.DATETIME_FORMAT_MAPPING_PROPERTY_NORMALIZED">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="VIEW_METADATA_FIELD">
<h3>VIEW_METADATA_FIELD</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">VIEW_METADATA_FIELD</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#com.amazonaws.athena.connector.lambda.handlers.GlueMetadataHandler.VIEW_METADATA_FIELD">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="GLUE_TABLE_CONTAINS_PREVIOUSLY_UNSUPPORTED_TYPE">
<h3>GLUE_TABLE_CONTAINS_PREVIOUSLY_UNSUPPORTED_TYPE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">GLUE_TABLE_CONTAINS_PREVIOUSLY_UNSUPPORTED_TYPE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#com.amazonaws.athena.connector.lambda.handlers.GlueMetadataHandler.GLUE_TABLE_CONTAINS_PREVIOUSLY_UNSUPPORTED_TYPE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String,java.util.Map)">
<h3>GlueMetadataHandler</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">GlueMetadataHandler</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sourceType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;configOptions)</span></div>
<div class="block">Basic constructor which is recommended when extending this class.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sourceType</code> - The source type, used in diagnostic logging.</dd>
<dd><code>configOptions</code> - The configOptions for this MetadataHandler.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(software.amazon.awssdk.services.glue.GlueClient,java.lang.String,java.util.Map)">
<h3>GlueMetadataHandler</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">GlueMetadataHandler</span><wbr><span class="parameters">(software.amazon.awssdk.services.glue.GlueClient&nbsp;awsGlue,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sourceType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;configOptions)</span></div>
<div class="block">Constructor that allows injection of a customized Glue client.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>awsGlue</code> - The glue client to use.</dd>
<dd><code>sourceType</code> - The source type, used in diagnostic logging.</dd>
<dd><code>configOptions</code> - The configOptions for this MetadataHandler.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(software.amazon.awssdk.services.glue.GlueClient,com.amazonaws.athena.connector.lambda.security.EncryptionKeyFactory,software.amazon.awssdk.services.secretsmanager.SecretsManagerClient,software.amazon.awssdk.services.athena.AthenaClient,java.lang.String,java.lang.String,java.lang.String,java.util.Map)">
<h3>GlueMetadataHandler</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">GlueMetadataHandler</span><wbr><span class="parameters">(software.amazon.awssdk.services.glue.GlueClient&nbsp;awsGlue,
 <a href="../security/EncryptionKeyFactory.html" title="interface in com.amazonaws.athena.connector.lambda.security">EncryptionKeyFactory</a>&nbsp;encryptionKeyFactory,
 software.amazon.awssdk.services.secretsmanager.SecretsManagerClient&nbsp;secretsManager,
 software.amazon.awssdk.services.athena.AthenaClient&nbsp;athena,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sourceType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;spillBucket,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;spillPrefix,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;configOptions)</span></div>
<div class="block">Full DI constructor used mostly for testing</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>awsGlue</code> - The glue client to use.</dd>
<dd><code>encryptionKeyFactory</code> - The EncryptionKeyFactory to use for spill encryption.</dd>
<dd><code>secretsManager</code> - The SecretsManagerClient client that can be used when attempting to resolve secrets.</dd>
<dd><code>athena</code> - The Athena client that can be used to fetch query termination status to fast-fail this handler.</dd>
<dd><code>spillBucket</code> - The S3 Bucket to use when spilling results.</dd>
<dd><code>spillPrefix</code> - The S3 prefix to use when spilling results.</dd>
<dd><code>configOptions</code> - The configOptions for this MetadataHandler.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getAwsGlue()">
<h3>getAwsGlue</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">software.amazon.awssdk.services.glue.GlueClient</span>&nbsp;<span class="element-name">getAwsGlue</span>()</div>
<div class="block">Provides access to the Glue client if the extender should need it. This will return null if Glue
 use is disabled.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The AWSGlue client being used by this class, or null if disabled.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCatalog(com.amazonaws.athena.connector.lambda.metadata.MetadataRequest)">
<h3>getCatalog</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getCatalog</span><wbr><span class="parameters">(<a href="../metadata/MetadataRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">MetadataRequest</a>&nbsp;request)</span></div>
<div class="block">Provides access to the current AWS Glue DataCatalog being used by this class.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The request for which we'd like to resolve the catalog.</dd>
<dt>Returns:</dt>
<dd>The glue catalog to use for the request.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doListSchemaNames(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.ListSchemasRequest)">
<h3>doListSchemaNames</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../metadata/ListSchemasResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListSchemasResponse</a></span>&nbsp;<span class="element-name">doListSchemaNames</span><wbr><span class="parameters">(<a href="../data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;blockAllocator,
 <a href="../metadata/ListSchemasRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListSchemasRequest</a>&nbsp;request)</span>
                                      throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Returns an unfiltered list of schemas (aka databases) from AWS Glue DataCatalog.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="MetadataHandler.html#doListSchemaNames(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.ListSchemasRequest)">doListSchemaNames</a></code>&nbsp;in class&nbsp;<code><a href="MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></code></dd>
<dt>Parameters:</dt>
<dd><code>blockAllocator</code> - Tool for creating and managing Apache Arrow Blocks.</dd>
<dd><code>request</code> - Provides details on who made the request and which Athena catalog they are querying.</dd>
<dt>Returns:</dt>
<dd>The ListSchemasResponse which mostly contains the list of schemas (aka databases).</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doListSchemaNames(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.ListSchemasRequest,com.amazonaws.athena.connector.lambda.handlers.GlueMetadataHandler.DatabaseFilter)">
<h3>doListSchemaNames</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="../metadata/ListSchemasResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListSchemasResponse</a></span>&nbsp;<span class="element-name">doListSchemaNames</span><wbr><span class="parameters">(<a href="../data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;blockAllocator,
 <a href="../metadata/ListSchemasRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListSchemasRequest</a>&nbsp;request,
 <a href="GlueMetadataHandler.DatabaseFilter.html" title="interface in com.amazonaws.athena.connector.lambda.handlers">GlueMetadataHandler.DatabaseFilter</a>&nbsp;filter)</span>
                                         throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Returns a list of schemas (aka databases) from AWS Glue DataCatalog with optional filtering.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>blockAllocator</code> - Tool for creating and managing Apache Arrow Blocks.</dd>
<dd><code>request</code> - Provides details on who made the request and which Athena catalog they are querying.</dd>
<dd><code>filter</code> - The DatabaseFilter to apply to all schemas (aka databases) before adding them to the results list.</dd>
<dt>Returns:</dt>
<dd>The ListSchemasResponse which mostly contains the list of schemas (aka databases).</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doListTables(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.ListTablesRequest)">
<h3>doListTables</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../metadata/ListTablesResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListTablesResponse</a></span>&nbsp;<span class="element-name">doListTables</span><wbr><span class="parameters">(<a href="../data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;blockAllocator,
 <a href="../metadata/ListTablesRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListTablesRequest</a>&nbsp;request)</span>
                                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Returns an unfiltered list of tables from AWS Glue DataCatalog for the requested schema (aka database)</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="MetadataHandler.html#doListTables(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.ListTablesRequest)">doListTables</a></code>&nbsp;in class&nbsp;<code><a href="MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></code></dd>
<dt>Parameters:</dt>
<dd><code>blockAllocator</code> - Tool for creating and managing Apache Arrow Blocks.</dd>
<dd><code>request</code> - Provides details on who made the request and which Athena catalog they are querying.</dd>
<dt>Returns:</dt>
<dd>The ListTablesResponse which mostly contains the list of table names.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doListTables(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.ListTablesRequest,com.amazonaws.athena.connector.lambda.handlers.GlueMetadataHandler.TableFilter)">
<h3>doListTables</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="../metadata/ListTablesResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListTablesResponse</a></span>&nbsp;<span class="element-name">doListTables</span><wbr><span class="parameters">(<a href="../data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;blockAllocator,
 <a href="../metadata/ListTablesRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">ListTablesRequest</a>&nbsp;request,
 <a href="GlueMetadataHandler.TableFilter.html" title="interface in com.amazonaws.athena.connector.lambda.handlers">GlueMetadataHandler.TableFilter</a>&nbsp;filter)</span>
                                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Returns a paginated list of tables from AWS Glue DataCatalog with optional filtering for the requested schema
 (aka database).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>blockAllocator</code> - Tool for creating and managing Apache Arrow Blocks.</dd>
<dd><code>request</code> - Provides details on who made the request and which Athena catalog they are querying.</dd>
<dd><code>filter</code> - The TableFilter to apply to all tables before adding them to the results list.</dd>
<dt>Returns:</dt>
<dd>The ListTablesResponse which mostly contains the list of table names.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doGetTable(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.GetTableRequest)">
<h3>doGetTable</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../metadata/GetTableResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableResponse</a></span>&nbsp;<span class="element-name">doGetTable</span><wbr><span class="parameters">(<a href="../data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;blockAllocator,
 <a href="../metadata/GetTableRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableRequest</a>&nbsp;request)</span>
                            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Attempts to retrieve a Table (columns and properties) from AWS Glue for the request schema (aka database) and table
 name with no fitlering.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="MetadataHandler.html#doGetTable(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.GetTableRequest)">doGetTable</a></code>&nbsp;in class&nbsp;<code><a href="MetadataHandler.html" title="class in com.amazonaws.athena.connector.lambda.handlers">MetadataHandler</a></code></dd>
<dt>Parameters:</dt>
<dd><code>blockAllocator</code> - Tool for creating and managing Apache Arrow Blocks.</dd>
<dd><code>request</code> - Provides details on who made the request and which Athena catalog, database, and table they are querying.</dd>
<dt>Returns:</dt>
<dd>A GetTableResponse mostly containing the columns, their types, and any table properties for the requested table.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doGetTable(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.GetTableRequest,com.amazonaws.athena.connector.lambda.handlers.GlueMetadataHandler.TableFilter)">
<h3>doGetTable</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="../metadata/GetTableResponse.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableResponse</a></span>&nbsp;<span class="element-name">doGetTable</span><wbr><span class="parameters">(<a href="../data/BlockAllocator.html" title="interface in com.amazonaws.athena.connector.lambda.data">BlockAllocator</a>&nbsp;blockAllocator,
 <a href="../metadata/GetTableRequest.html" title="class in com.amazonaws.athena.connector.lambda.metadata">GetTableRequest</a>&nbsp;request,
 <a href="GlueMetadataHandler.TableFilter.html" title="interface in com.amazonaws.athena.connector.lambda.handlers">GlueMetadataHandler.TableFilter</a>&nbsp;filter)</span>
                               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Attempts to retrieve a Table (columns and properties) from AWS Glue for the request schema (aka database) and table
 name with no filtering.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>blockAllocator</code> - Tool for creating and managing Apache Arrow Blocks.</dd>
<dd><code>request</code> - Provides details on who made the request and which Athena catalog, database, and table they are querying.</dd>
<dd><code>filter</code> - The TableFilter to apply to any matching table before generating the result.</dd>
<dt>Returns:</dt>
<dd>A GetTableResponse mostly containing the columns, their types, and any table properties for the requested table.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="convertField(java.lang.String,java.lang.String)">
<h3>convertField</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.apache.arrow.vector.types.pojo.Field</span>&nbsp;<span class="element-name">convertField</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;glueType)</span></div>
<div class="block">Maps a Glue field to an Apache Arrow Field.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - The name of the field in Glue.</dd>
<dd><code>glueType</code> - The type of the field in Glue.</dd>
<dt>Returns:</dt>
<dd>The corresponding Apache Arrow Field.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="populateSourceTableNameIfAvailable(software.amazon.awssdk.services.glue.model.Table,com.amazonaws.athena.connector.lambda.data.SchemaBuilder)">
<h3>populateSourceTableNameIfAvailable</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">populateSourceTableNameIfAvailable</span><wbr><span class="parameters">(software.amazon.awssdk.services.glue.model.Table&nbsp;table,
 <a href="../data/SchemaBuilder.html" title="class in com.amazonaws.athena.connector.lambda.data">SchemaBuilder</a>&nbsp;schemaBuilder)</span></div>
<div class="block">Glue has strict table naming rules and may not be able to match the exact table name from the source. So this stores
 the source table name in the schema metadata if necessary to ease lookup later. It looks for it in the following places:
 <p><ul>
 <li>A table property called <a href="#SOURCE_TABLE_PROPERTY">"sourceTable"</a>
 <li>In StorageDescriptor.Location in the form of an ARN (e.g. arn:aws:dynamodb:us-east-1:012345678910:table/mytable)
 </ul><p>
 Override this method to fetch the source table name from somewhere else.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>table</code> - The Glue Table</dd>
<dd><code>schemaBuilder</code> - The schema being generated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSourceTableName(org.apache.arrow.vector.types.pojo.Schema)">
<h3>getSourceTableName</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getSourceTableName</span><wbr><span class="parameters">(org.apache.arrow.vector.types.pojo.Schema&nbsp;schema)</span></div>
<div class="block">Will return the source table name stored by <a href="#populateSourceTableNameIfAvailable(software.amazon.awssdk.services.glue.model.Table,com.amazonaws.athena.connector.lambda.data.SchemaBuilder)"><code>populateSourceTableNameIfAvailable(software.amazon.awssdk.services.glue.model.Table, com.amazonaws.athena.connector.lambda.data.SchemaBuilder)</code></a></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>schema</code> - The schema returned by <a href="#doGetTable(com.amazonaws.athena.connector.lambda.data.BlockAllocator,com.amazonaws.athena.connector.lambda.metadata.GetTableRequest)"><code>doGetTable(com.amazonaws.athena.connector.lambda.data.BlockAllocator, com.amazonaws.athena.connector.lambda.metadata.GetTableRequest)</code></a></dd>
<dt>Returns:</dt>
<dd>The source table name</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getColumnNameMapping(software.amazon.awssdk.services.glue.model.Table)">
<h3>getColumnNameMapping</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getColumnNameMapping</span><wbr><span class="parameters">(software.amazon.awssdk.services.glue.model.Table&nbsp;table)</span></div>
<div class="block">If available, will parse and return a column name mapping for cases when a data source's columns
 cannot be represented by Glue's quite restrictive naming rules. It looks a comma separated inline map
 in the <a href="#COLUMN_NAME_MAPPING_PROPERTY">"columnMapping"</a> table property.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>table</code> - The glue table</dd>
<dt>Returns:</dt>
<dd>A column mapping if provided, otherwise an empty map</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2019&#x2013;2025 <a href="https://https://aws.amazon.com//">Amazon Web Services</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
